<!DOCTYPE html>
<html>
<style>
#container {
  width: 500px;
  height: 300px;
  position: relative;
  background: lightBlue;
  overflow: hidden;   /* clip anything outside the container */
}

#animate {
  width: 30px;
  height: 30px;
  position: absolute;
  bottom: 30px;
  left: 5px;
}
#floor1 {
    width: 45px;
    height: 30px;
    position: absolute;
    background: green;
    bottom: 0px;
    left: 0px;
}
#water1 {
    width: 110px;
    height: 10px;
    position: absolute;
    background: blue;
    bottom: 0px;
    left: 45px;
}
#floor2 {
    width: 40px;
    height: 30px;
    position: absolute;
    background: green;
    bottom: 0px;
    left: 155px;
}
#water2 {
    width: 110px;
    height: 10px;
    position: absolute;
    background: blue;
    bottom: 0px;
    left: 195px; 
}
#floor3 {
    width: 40px;
    height: 30px;
    position: absolute;
    background: green;
    bottom: 0px;
    left: 305px;
}
#water3 {
    width: 110px;
    height: 10px;
    position: absolute;
    background: blue;
    bottom: 0px;
    left: 345px; 
}
#floor4 {
    width: 45px;
    height: 30px;
    position: absolute;
    background: green;
    bottom: 0px;
    left: 455px; 
}
#statsDiv {
    position: absolute;
    top: 0px;
    right: 0px;
}
#floor1, #floor2, #floor3, #floor4 {
    z-index: 2;   /* floors are above water but below wolf normally */
}

#water1, #water2, #water3 {
    z-index: 3;   /* water is above floors */
}

#animate {
    z-index: 4;   /* wolf normally above everything */
}

</style>

<script>
let wolf = null;
let wolfX = 5;          // starting horizontal position
let wolfY = 30;         // normal bottom offset
let step = 150;         // horizontal distance between greens
let currentStep = 0;    // which green section wolf is on (0–3)
let jumping = false;    // prevent double-clicking mid-jump

function loadPage() {
  wolf = document.getElementById("animate");
  resetWolf();
}

function resetWolf() {
  wolfX = 5;
  wolf.style.left = wolfX + "px";
  wolf.style.bottom = wolfY + "px";
  currentStep = 0;
}

function newProblem() {
  document.getElementById("problemDiv").textContent = "What is 2 + 3 ?";
  document.getElementById("feedbackDiv").textContent = "";
  document.getElementById("errorDiv").style.visibility = "hidden";
}

function checkAnswer() {
  if (jumping) return; // ignore clicks mid-jump

  const input = document.getElementById("answerInput");
  const feedback = document.getElementById("feedbackDiv");

  if (input.value === "") {
    document.getElementById("errorDiv").style.visibility = "visible";
    return;
  }

  document.getElementById("errorDiv").style.visibility = "hidden";
  const userAnswer = Number(input.value);
  const correct = userAnswer === 5; // your actual logic can replace this

  if (correct) {
    feedback.textContent = "✅ Correct!";
    jumpToNextFloor();
  } else {
    feedback.textContent = "❌ Try again!";
    jumpIntoWater();
  }
}

function jumpToNextFloor() {
  if (currentStep >= 3) return; // no more greens
  jumping = true;
  currentStep++;
  let newX = 5 + currentStep * step;
  animateJump(newX, wolfY + 70, 600, () => {
    wolfX = newX;
    jumping = false;
  });
}

function jumpIntoWater() {
  jumping = true;
  let missX = wolfX + step - 40; // short of next green
  animateJump(missX, wolfY + 50, 600, () => {
    // wolf "falls" slightly into water
    wolf.style.bottom = "0px";
    setTimeout(() => {
      wolf.style.bottom = wolfY + "px";
      jumping = false;
    }, 400);
  });
}

// helper: makes wolf move in a jump arc
function


<body onload='loadPage()'>


  <div id ="container">
  
  <button id='newButton' onclick='newProblem()'>New problem</button>
  
  <br /><br />
  <span id='problemDiv'>Click the button above to get a new problem</span>
  
  <br /><br />
  
  <input type='number' id='answerInput' style='width: 50px;' />
  <button id='checkButton' onclick='checkAnswer()'>Check answer</button>
  <div id='errorDiv' style='color:red; visibility:hidden;'>Type or click an answer in the box</div>
  <span id='statsDiv'>Stats</span>
  <span id='feedbackDiv'>&nbsp;</span>
  <span id='floor1'></span>
  <span id='water1'></span>
  <span id='floor2'></span>
  <span id='water2'></span>
  <span id='floor3'></span>
  <span id='water3'></span>
  <span id='floor4'></span>
  <span id ="animate"><img src='../images/wolf transparent.png' style='width:150%; height:150%'></span>
</div>






</body>
</html>
